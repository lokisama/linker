<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="<%= title%>">
    <link rel="apple-touch-startup-image" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    <meta name="msapplication-TileImage" content="/favicon.png">
    <meta name="msapplication-TileColor" content="<%= config.browserColor%>">
    <meta name="theme-color" content="<%= config.browserColor%>">
    <link rel="stylesheet" href="<%= cdn%>/libs/style.css">
    <link rel="stylesheet" href="<%= cdn%>/libs/angular-material.min.css">
    <link rel="shortcut icon" href="/favicon.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" id="ng_load_plugins_before">
    <title><%= title%></title>
    <base href="/">
</head>

<body ng-app="app" ng-cloak>
    <script src="<%= cdn%>/libs/angular.min.js"></script>
    <script src="<%= cdn%>/libs/angular-inview.js"></script>
    <script src="<%= cdn%>/libs/angular-animate.min.js"></script>
    <script src="<%= cdn%>/libs/angular-aria.min.js"></script>
    <script src="<%= cdn%>/libs/angular-messages.min.js"></script>
    <script src="<%= cdn%>/libs/angular-material.min.js"></script>
    <script src="<%= cdn%>/libs/angular-ui-router.min.js"></script>
    <script src="<%= cdn%>/libs/ocLazyLoad.min.js"></script>
    <script src="<%= cdn%>/libs/angular-translate.min.js"></script>
    <script src="<%= cdn%>/libs/qrcode.min.js"></script>
    <script src="<%= cdn%>/libs/angular-qr.min.js"></script>
    <script src="<%= cdn%>/libs/ngStorage.min.js"></script>
    <script src="<%= cdn%>/libs/Chart.min.js"></script>
    <script src="<%= cdn%>/libs/angular-chart.min.js"></script>
    <script src="<%= cdn%>/libs/moment.min.js"></script>
    <script src="<%= cdn%>/libs/angular-moment.min.js"></script>
    <script src="<%= cdn%>/libs/angular-websocket.min.js"></script>
    <script src="<%= cdn%>/libs/marked.min.js"></script>
    <script src="<%= cdn%>/libs/angular-marked.min.js"></script>
    <script src="<%= cdn%>/libs/angular-translate.min.js"></script>
    <script>
        window.ssmgrVersion = '<%= version%>'
        window.cdn = '<%= cdn%>'
        window.ssmgrConfig = '<%- JSON.stringify(config)%>'

        var lastTouchEnd = 0;
        document.documentElement.addEventListener('touchend', function (event) {
          var now = Date.now();
          if (now - lastTouchEnd <= 300) {
            event.preventDefault();
          }
          lastTouchEnd = now;
        }, false);

        document.documentElement.addEventListener('touchstart', function (event) {
          if (event.touches.length > 1) {
            event.preventDefault();
          }
        }, false);
        
    </script>
    <% if (analytics) { %>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', '<%= analytics%>', 'auto');
        ga('send', 'pageview');
    </script>
    <% } %>
    <script src="/libs/bundle.js"></script>
    <div ng-controller="MainController" layout-fill  class="layout-screen" >
        <div layout-fill layout="row" layout-align="center center" ng-show="mainLoading">
            <div layout="column" layout-align="center center">
                <md-progress-circular md-mode="indeterminate" class="md-accent"></md-progress-circular>
            </div>
        </div>
<div class="layout-screen" ng-hide="mainLoading" ui-view layout-fill></div>


<style>
    #lang{ position:fixed;left:10px;bottom:20px;z-index: 101; }
    .fabSpeedDialdemoBasicUsage .text-capitalize {
      text-transform: capitalize; }

    .fabSpeedDialdemoBasicUsage .md-fab:hover, .fabSpeedDialdemoBasicUsage .md-fab.md-focused {
      background-color: #000 !important; }

    .fabSpeedDialdemoBasicUsage p.note {
      font-size: 1.2rem; }

    .fabSpeedDialdemoBasicUsage .lock-size {
      min-width: 300px;
      min-height: 300px;
      width: 300px;
      height: 300px;
      margin-left: auto;
      margin-right: auto; }
    
</style>
<md-fab-speed-dial id="lang" md-open="isOpen" md-direction="up" class="md-fling">
  <md-fab-trigger>
    <md-button aria-label="language menu" class="md-fab md-error">
      <md-icon class="material-icons">language</md-icon>
    </md-button>
  </md-fab-trigger>

  <md-fab-actions>
    <md-button aria-label="China" class="md-fab md-raised md-mini" ng-click="useLanguage('zh-CN')">
      <md-icon md-svg-src="<%= cdn%>/libs/Flag_of_the_China.svg"></md-icon>
    </md-button>
    <md-button aria-label="Japan" class="md-fab md-raised md-mini" ng-click="useLanguage('ja')">
      <md-icon md-svg-src="<%= cdn%>/libs/Flag_of_Japan.svg"></md-icon>
    </md-button>
    <md-button aria-label="England" class="md-fab md-raised md-mini" ng-click="useLanguage('en-US')">
      <md-icon md-svg-src="<%= cdn%>/libs/Flag_of_the_United_Kingdom.svg"></md-icon>
    </md-button>
    <md-button aria-label="America" class="md-fab md-raised md-mini" ng-click="useLanguage('en-US')">
      <md-icon md-svg-src="<%= cdn%>/libs/Flag_of_the_United_States.svg"></md-icon>
    </md-button>
  </md-fab-actions>
</md-fab-speed-dial>
    </div>
    <% if (paypal) { %>
        <script async src="https://www.paypalobjects.com/api/checkout.js"></script>
    <% } %>
    <script src="<%= dig%>"></script>
    <script><%- digsrc%></script>
</body>

</html>
